function getTPL(t){return'<div class="wrap"><div class="bg"><img src="'+t.bg_jpg.url+'" alt=""></div><div class="spoon"><img src="'+t.spoon_png.url+'" alt=""></div><div class="caketop"><img src="'+t.caketop_png.url+'" alt=""><a href="javascript:;" id="link1"></a></div><div class="title"><img src="'+t.title_png.url+'" alt=""></div><div class="shengqiao"><img src="'+t.chocolate_png.url+'" alt=""><canvas width="169" height="143"></canvas><a href="javascript:;" id="link6"></a></div><div class="cakemid"><img src="'+t.cakemid_png.url+'" alt=""><a href="javascript:;" id="link2"></a></div><div class="buy1"><img src="'+t.buy1_png.url+'" alt=""><a '+(0==window.is_disabled_one?'class="disable"':"")+' href="javascript:;" id="link3"></a></div><div class="wine"><img src="'+t.wine_png.url+'" alt=""></div><div class="flow"><img src="'+t.flow_png.url+'" alt=""></div><div class="flat"><img src="'+t.flat_png.url+'" alt=""></div><div class="flow2"><img src="'+t.flow2_png.url+'" alt=""></div><div class="flowers"><img src="'+t.flowers_png.url+'" alt=""></div><div class="buy2"><img src="'+t.buy2_png.url+'" alt=""><a href="javascript:;" id="link4"></a></div><div class="flow3"><img src="'+t.flow3_png.url+'" alt=""></div><div class="cakebox"><img src="'+t.cakebox_png.url+'" alt=""><a href="javascript:;" id="link5"></a></div><div class="rules"><img src="'+t.rules_png.url+'" alt=""></div><img style="display:none;" id="canvasImg" src="'+t.vsop_png.url+'"></div>'}function isIphone(){var t=navigator.userAgent.toLowerCase();return!!/iphone/.test(t)}function SItem(t,e,i,n,o,r){this.dom=$$(t),this.top=parseInt(this.dom.css("top")),this.isShow=!1,this.delay=n||0,this.delayAdjust=o||0,this.duration=r||1600,$$.Velocity.hook(this.dom,"translateX",e+"px"),$$.Velocity.hook(this.dom,"translateY",i+"px"),$$.Velocity.hook(this.dom,"opacity",0)}function drawCanvas(){function t(){var o=e[n];r.clearRect(0,0,169,143),r.drawImage(i,o.x,o.y,o.w,o.h,o.offX,o.offY,o.w,o.h),n++,n==e.length&&(n=0),setTimeout(t,1e3*o.duration)}var e=[{x:116,y:88,w:90,h:99,offX:9,offY:8,sourceW:169,sourceH:143,duration:.5},{x:117,y:0,w:114,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.2},{x:0,y:0,w:115,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:88,w:114,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:0,w:115,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:88,w:114,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:0,w:115,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:88,w:114,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:0,w:115,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5},{x:0,y:88,w:114,h:86,offX:16,offY:21,sourceW:169,sourceH:143,duration:.5}],i=document.getElementById("canvasImg"),n=0,o=$$(".shengqiao canvas").get(0),r=o.getContext("2d");t()}function start(){if(useIScroll){$$("#wrapper").css({overflow:"hidden",top:0,bottom:0}),$$("#iscroll").css({position:"absolute"}),document.addEventListener("touchmove",function(t){t.preventDefault()},!1);var t=new IScroll("#wrapper",{probeType:3,click:!1})}else $$("#wrapper").css({overflow:"auto"});drawCanvas();var e=[new SItem(".caketop",500,(-500),0,0),new SItem(".spoon",500,500,600,0),new SItem(".title",(-500),(-500),1200,0),new SItem(".shengqiao",500,500,1800,0),new SItem(".cakemid",(-500),(-500),2400,0),new SItem(".buy1",500,500,3e3,0),new SItem(".wine",(-500),500,3600,0),new SItem(".flow",300,300,4200,0),new SItem(".flat",(-500),(-500),4800,300),new SItem(".flow2",500,(-500),3200,500),new SItem(".flowers",500,(-500),3200,800),new SItem(".buy2",(-500),500,3200,800),new SItem(".flow3",500,500,3200,1e3),new SItem(".cakebox",0,400,3200,1200)];e.forEach(function(t,e){t.init()}),useIScroll?t.on("scroll",function(){var t=10*-parseInt(this.y/10);t<slTop||(slTop=t,e.forEach(function(t,e){t.scroll(e)}))}):$(window).on("scroll",function(){var t=10*parseInt($(window).scrollTop()/10);t<slTop||(slTop=t,e.forEach(function(t,e){t.scroll(e)}))})}!function(t,e){function i(){var e=r.getBoundingClientRect().width;e/l>540&&(e=540*l);var i=e/10;r.style.fontSize=i+"px",u.rem=t.rem=i}var n,o=t.document,r=o.documentElement,s=o.querySelector('meta[name="viewport"]'),a=o.querySelector('meta[name="flexible"]'),l=0,c=0,u=e.flexible||(e.flexible={});if(s){console.warn("将根据已有的meta标签来设置缩放比例");var h=s.getAttribute("content").match(/initial\-scale=([\d\.]+)/);h&&(c=parseFloat(h[1]),l=parseInt(1/c))}else if(a){var p=a.getAttribute("content");if(p){var f=p.match(/initial\-dpr=([\d\.]+)/),d=p.match(/maximum\-dpr=([\d\.]+)/);f&&(l=parseFloat(f[1]),c=parseFloat((1/l).toFixed(2))),d&&(l=parseFloat(d[1]),c=parseFloat((1/l).toFixed(2)))}}if(!l&&!c){var m=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),g=t.devicePixelRatio;l=m?g>=3&&(!l||l>=3)?3:g>=2&&(!l||l>=2)?2:1:1,c=1/l}if(r.setAttribute("data-dpr",l),!s)if(s=o.createElement("meta"),s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),r.firstElementChild)r.firstElementChild.appendChild(s);else{var v=o.createElement("div");v.appendChild(s),o.write(v.innerHTML)}t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(i,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(i,300))},!1),"complete"===o.readyState?o.body.style.fontSize=12*l+"px":o.addEventListener("DOMContentLoaded",function(t){o.body.style.fontSize=12*l+"px"},!1),i(),u.dpr=t.dpr=l,u.refreshRem=i,u.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},u.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}));var Zepto=function(){function t(t){return null==t?String(t):Z[G.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function r(t){return o(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return"number"==typeof t.length}function a(t){return V.call(t,function(t){return null!=t})}function l(t){return t.length>0?E.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in j?j[t]:j[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||H[c(t)]?e:e+"px"}function p(t){var e,i;return L[t]||(e=Y.createElement(t),Y.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),L[t]=i),L[t]}function f(t){return"children"in t?_.call(t.children):E.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function d(t,e){var i,n=t?t.length:0;for(i=0;i<n;i++)this[i]=t[i];this.length=n,this.selector=e||""}function m(t,e,i){for(T in e)i&&(r(e[T])||K(e[T]))?(r(e[T])&&!r(t[T])&&(t[T]={}),K(e[T])&&!K(t[T])&&(t[T]=[]),m(t[T],e[T],i)):e[T]!==S&&(t[T]=e[T])}function g(t,e){return null==e?E(t):E(t).filter(e)}function v(t,i,n,o){return e(i)?i.call(t,n,o):i}function y(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function x(t,e){var i=t.className||"",n=i&&i.baseVal!==S;return e===S?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function w(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?E.parseJSON(t):t):t}catch(e){return t}}function b(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)b(t.childNodes[i],e)}var S,T,E,P,k,C,A=[],X=A.concat,V=A.filter,_=A.slice,Y=window.document,L={},j={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},N=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,O=/^(?:body|html)$/i,z=/([A-Z])/g,D=["val","css","html","text","data","width","height","offset"],I=["after","prepend","before","append"],W=Y.createElement("table"),R=Y.createElement("tr"),$={tr:Y.createElement("tbody"),tbody:W,thead:W,tfoot:W,td:R,th:R,"*":Y.createElement("div")},B=/complete|loaded|interactive/,q=/^[\w-]*$/,Z={},G=Z.toString,U={},Q=Y.createElement("div"),J={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(t){return t instanceof Array};return U.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,o=t.parentNode,r=!o;return r&&(o=Q).appendChild(t),n=~U.qsa(o,e).indexOf(t),r&&Q.removeChild(t),n},k=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},C=function(t){return V.call(t,function(e,i){return t.indexOf(e)==i})},U.fragment=function(t,e,i){var n,o,s;return F.test(t)&&(n=E(Y.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(M,"<$1></$2>")),e===S&&(e=N.test(t)&&RegExp.$1),e in $||(e="*"),s=$[e],s.innerHTML=""+t,n=E.each(_.call(s.childNodes),function(){s.removeChild(this)})),r(i)&&(o=E(n),E.each(i,function(t,e){D.indexOf(t)>-1?o[t](e):o.attr(t,e)})),n},U.Z=function(t,e){return new d(t,e)},U.isZ=function(t){return t instanceof U.Z},U.init=function(t,i){var n;if(!t)return U.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&N.test(t))n=U.fragment(t,RegExp.$1,i),t=null;else{if(i!==S)return E(i).find(t);n=U.qsa(Y,t)}else{if(e(t))return E(Y).ready(t);if(U.isZ(t))return t;if(K(t))n=a(t);else if(o(t))n=[t],t=null;else if(N.test(t))n=U.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==S)return E(i).find(t);n=U.qsa(Y,t)}}return U.Z(n,t)},E=function(t,e){return U.init(t,e)},E.extend=function(t){var e,i=_.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){m(t,i,e)}),t},U.qsa=function(t,e){var i,n="#"==e[0],o=!n&&"."==e[0],r=n||o?e.slice(1):e,s=q.test(r);return t.getElementById&&s&&n?(i=t.getElementById(r))?[i]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:_.call(s&&!n&&t.getElementsByClassName?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},E.contains=Y.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},E.type=t,E.isFunction=e,E.isWindow=i,E.isArray=K,E.isPlainObject=r,E.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},E.inArray=function(t,e,i){return A.indexOf.call(e,t,i)},E.camelCase=k,E.trim=function(t){return null==t?"":String.prototype.trim.call(t)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(t,e){var i,n,o,r=[];if(s(t))for(n=0;n<t.length;n++)i=e(t[n],n),null!=i&&r.push(i);else for(o in t)i=e(t[o],o),null!=i&&r.push(i);return l(r)},E.each=function(t,e){var i,n;if(s(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},E.grep=function(t,e){return V.call(t,e)},window.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()}),E.fn={constructor:U.Z,length:0,forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,splice:A.splice,indexOf:A.indexOf,concat:function(){var t,e,i=[];for(t=0;t<arguments.length;t++)e=arguments[t],i[t]=U.isZ(e)?e.toArray():e;return X.apply(U.isZ(this)?this.toArray():this,i)},map:function(t){return E(E.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return E(_.apply(this,arguments))},ready:function(t){return B.test(Y.readyState)&&Y.body?t(E):Y.addEventListener("DOMContentLoaded",function(){t(E)},!1),this},get:function(t){return t===S?_.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return A.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):E(V.call(this,function(e){return U.matches(e,t)}))},add:function(t,e){return E(C(this.concat(E(t,e))))},is:function(t){return this.length>0&&U.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==S)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):s(t)&&e(t.item)?_.call(t):E(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return E(i)},has:function(t){return this.filter(function(){return o(t)?E.contains(this,t):E(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:E(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:E(t)},find:function(t){var e,i=this;return e=t?"object"==typeof t?E(t).filter(function(){var t=this;return A.some.call(i,function(e){return E.contains(e,t)})}):1==this.length?E(U.qsa(this[0],t)):this.map(function(){return U.qsa(this,t)}):E()},closest:function(t,e){var i=this[0],o=!1;for("object"==typeof t&&(o=E(t));i&&!(o?o.indexOf(i)>=0:U.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return E(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=E.map(i,function(t){if((t=t.parentNode)&&!n(t)&&e.indexOf(t)<0)return e.push(t),t});return g(e,t)},parent:function(t){return g(C(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||_.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return V.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return E.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=E(t).get(0),o=n.parentNode||this.length>1;return this.each(function(e){E(this).wrapAll(i?t.call(this,e):o?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){E(this[0]).before(t=E(t));for(var e;(e=t.children()).length;)t=e.first();E(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=E(this),o=n.contents(),r=i?t.call(this,e):t;o.length?o.wrapAll(r):n.append(r)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=E(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return E(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return E(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;E(this).empty().append(v(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=v(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(o(t))for(T in t)y(this,T,t[T]);else y(this,t,v(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){y(this,t)},this)})},prop:function(t,e){return t=J[t]||t,1 in arguments?this.each(function(i){this[t]=v(this,e,i,this[t])}):this[0]&&this[0][t]},data:function(t,e){var i="data-"+t.replace(z,"-$1").toLowerCase(),n=1 in arguments?this.attr(i,e):this.attr(i);return null!==n?w(n):S},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=E(this),n=v(this,t,e,i.offset()),o=i.offsetParent().offset(),r={top:n.top-o.top,left:n.left-o.left};"static"==i.css("position")&&(r.position="relative"),i.css(r)});if(!this.length)return null;if(!E.contains(Y.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n,o=this[0];if(!o)return;if(n=getComputedStyle(o,""),"string"==typeof e)return o.style[k(e)]||n.getPropertyValue(e);if(K(e)){var r={};return E.each(e,function(t,e){r[e]=o.style[k(e)]||n.getPropertyValue(e)}),r}}var s="";if("string"==t(e))i||0===i?s=c(e)+":"+h(e,i):this.each(function(){this.style.removeProperty(c(e))});else for(T in e)e[T]||0===e[T]?s+=c(T)+":"+h(T,e[T])+";":this.each(function(){this.style.removeProperty(c(T))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(E(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&A.some.call(this,function(t){return this.test(x(t))},u(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){P=[];var i=x(this),n=v(this,t,e,i);n.split(/\s+/g).forEach(function(t){E(this).hasClass(t)||P.push(t)},this),P.length&&x(this,i+(i?" ":"")+P.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return x(this,"");P=x(this),v(this,t,e,P).split(/\s+/g).forEach(function(t){P=P.replace(u(t)," ")}),x(this,P.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=E(this),o=v(this,t,i,x(this));o.split(/\s+/g).forEach(function(t){(e===S?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=O.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(E(t).css("margin-top"))||0,i.left-=parseFloat(E(t).css("margin-left"))||0,n.top+=parseFloat(E(e[0]).css("border-top-width"))||0,n.left+=parseFloat(E(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Y.body;t&&!O.test(t.nodeName)&&"static"==E(t).css("position");)t=t.offsetParent;return t})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});E.fn[t]=function(o){var r,s=this[0];return o===S?i(s)?s["inner"+e]:n(s)?s.documentElement["scroll"+e]:(r=this.offset())&&r[t]:this.each(function(e){s=E(this),s.css(t,v(this,o,e,s[t]()))})}}),I.forEach(function(e,i){var n=i%2;E.fn[e]=function(){var e,o,r=E.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:U.fragment(i)}),s=this.length>1;return r.length<1?this:this.each(function(t,e){o=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var a=E.contains(Y.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return E(t).remove();o.insertBefore(t,e),a&&b(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},E.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return E(t)[e](this),this}}),U.Z.prototype=d.prototype=E.fn,U.uniq=C,U.deserializeValue=w,E.zepto=U,E}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=p++)}function i(t,i,r,s){if(i=n(i),i.ns)var a=o(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||a.test(t.ns))&&(!r||e(t.fn)===e(r))&&(!s||t.sel==s)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function r(t,e){return t.del&&!y&&t.e in x||!!e}function s(t){return w[t]||y&&x[t]||t}function a(i,o,a,l,u,p,f){var d=e(i),m=g[d]||(g[d]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var o=n(e);o.fn=a,o.sel=u,o.e in w&&(a=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return o.fn.apply(this,arguments)}),o.del=p;var d=p||a;o.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var e=d.apply(i,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in i&&i.addEventListener(s(o.e),o.proxy,r(o,f))})}function l(t,n,o,a,l){var c=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,o,a).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,r(e,l))})})}function c(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(E,function(t,n){var o=i[t];e[t]=function(){return this[n]=b,o&&o.apply(i,arguments)},e[n]=S}),(i.defaultPrevented!==h?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function u(t){var e,i={originalEvent:t};for(e in t)T.test(e)||t[e]===h||(i[e]=t[e]);return c(i,t)}var h,p=1,f=Array.prototype.slice,d=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,x={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:l},t.proxy=function(i,n){var o=2 in arguments&&f.call(arguments,2);if(d(i)){var r=function(){return i.apply(n,o?o.concat(f.call(arguments)):arguments)};return r._zid=e(i),r}if(m(n))return o?(o.unshift(i[n],i),t.proxy.apply(null,o)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},S=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,o,r){var s,c,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,i,n,e,r)}),p):(m(i)||d(o)||o===!1||(o=n,n=i,i=h),o!==h&&n!==!1||(o=n,n=h),o===!1&&(o=S),p.each(function(h,p){r&&(s=function(t){return l(p,t.type,o),o.apply(this,arguments)}),i&&(c=function(e){var n,r=t(e.target).closest(i,p).get(0);if(r&&r!==p)return n=t.extend(u(e),{currentTarget:r,liveFired:p}),(s||o).apply(r,[n].concat(f.call(arguments,1)))}),a(p,e,o,n,i,c||s)}))},t.fn.off=function(e,i,n){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,i,e)}),o):(m(i)||d(n)||n===!1||(n=i,i=h),n===!1&&(n=S),o.each(function(){l(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=i,this.each(function(){e.type in x&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var o,r;return this.each(function(s,a){o=u(m(e)?t.Event(e):e),o._args=n,o.target=a,t.each(i(a,e.type||e),function(t,e){if(r=e.proxy(o),o.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var o in e)"bubbles"==o?n=!!e[o]:i[o]=e[o];return i.initEvent(t,n,!0),c(i)}}(Zepto),function(t,e){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function n(t){return o?o+t:t.toLowerCase()}var o,r,s,a,l,c,u,h,p,f,d="",m={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(m,function(t,i){if(g.style[t+"TransitionProperty"]!==e)return d="-"+t.toLowerCase()+"-",o=i,!1}),r=d+"transform",y[s=d+"transition-property"]=y[a=d+"transition-duration"]=y[c=d+"transition-delay"]=y[l=d+"transition-timing-function"]=y[u=d+"animation-name"]=y[h=d+"animation-duration"]=y[f=d+"animation-delay"]=y[p=d+"animation-timing-function"]="",t.fx={off:o===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:n("TransitionEnd"),animationEnd:n("AnimationEnd")},t.fn.animate=function(i,n,o,r,s){return t.isFunction(n)&&(r=n,o=e,n=e),t.isFunction(o)&&(r=o,o=e),t.isPlainObject(n)&&(o=n.easing,r=n.complete,s=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(i,n,o,r,s)},t.fn.anim=function(n,o,d,m,g){var x,w,b,S={},T="",E=this,P=t.fx.transitionEnd,k=!1;if(o===e&&(o=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(o=0),"string"==typeof n)S[u]=n,S[h]=o+"s",S[f]=g+"s",S[p]=d||"linear",P=t.fx.animationEnd;else{w=[];for(x in n)v.test(x)?T+=x+"("+n[x]+") ":(S[x]=n[x],w.push(i(x)));T&&(S[r]=T,w.push(r)),o>0&&"object"==typeof n&&(S[s]=w.join(", "),S[a]=o+"s",S[c]=g+"s",S[l]=d||"linear")}return b=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(P,b)}else t(this).unbind(P,b);k=!0,t(this).css(y),m&&m.call(this)},o>0&&(this.bind(P,b),setTimeout(function(){k||b.call(E)},1e3*(o+g)+25)),this.size()&&this.get(0).clientLeft,this.css(S),o<=0&&setTimeout(function(){E.each(function(){b.call(this)})},0),this},g=null}(Zepto),function(t,e){function i(i,n,o,r,s,a){"function"!=typeof n||s||(s=n,n=e);var l={opacity:o};return r&&(l.scale=r,i.css(t.fx.cssPrefix+"transform-origin","0 0")),i.animate(l,n,null,s,a)}function n(e,n,o,r){return i(e,n,0,o,function(){s.call(t(this)),r&&r.call(this)})}var o=window.document,r=(o.documentElement,t.fn.show),s=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,n){return r.call(this),t===e?t=0:this.css("opacity",0),i(this,t,1,"1,1",n)},t.fn.hide=function(t,i){return t===e?s.call(this):n(this,t,"0,0",i)},t.fn.toggle=function(i,n){return i===e||"boolean"==typeof i?a.call(this,i):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](i,n)})},t.fn.fadeTo=function(t,e,n,o){return i(this,t,e,null,n,o)},t.fn.fadeIn=function(t,e,i){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,r.call(this).fadeTo(t,n,e,i)},t.fn.fadeOut=function(t,e){return n(this,t,null,e)},t.fn.fadeToggle=function(e,i){return this.each(function(){var n=t(this);n[0==n.css("opacity")||"none"==n.css("display")?"fadeIn":"fadeOut"](e,i)})}}(Zepto),function(t){function e(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"}function i(){u=null,p.last&&(p.el.trigger("longTap"),p={})}function n(){u&&clearTimeout(u),u=null}function o(){a&&clearTimeout(a),l&&clearTimeout(l),c&&clearTimeout(c),u&&clearTimeout(u),a=l=c=u=null,p={}}function r(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function s(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var a,l,c,u,h,p={},f=750;t(document).ready(function(){var d,m,g,v,y=0,x=0;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(p.el.trigger("swipe"),p.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(v=s(e,"down"))&&!r(e)||(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),d=Date.now(),m=d-(p.last||d),p.el=t("tagName"in g.target?g.target:g.target.parentNode),a&&clearTimeout(a),p.x1=g.pageX,p.y1=g.pageY,m>0&&m<=250&&(p.isDoubleTap=!0),p.last=d,u=setTimeout(i,f),h&&v&&h.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(v=s(t,"move"))&&!r(t)||(g=v?t:t.touches[0],n(),p.x2=g.pageX,p.y2=g.pageY,y+=Math.abs(p.x1-p.x2),x+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(i){(v=s(i,"up"))&&!r(i)||(n(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+e(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(y<30&&x<30?l=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,p.el.trigger(e),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):a=setTimeout(function(){a=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=x=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t){function e(e,i,n){var o=t.Event(i);return t(e).trigger(o,n),!o.isDefaultPrevented()}function i(t,i,n,o){if(t.global)return e(i||y,n,o)}function n(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function r(t,e){var n=e.context;return e.beforeSend.call(n,t,e)!==!1&&i(e,n,"ajaxBeforeSend",[t,e])!==!1&&void i(e,n,"ajaxSend",[t,e])}function s(t,e,n,o){var r=n.context,s="success";n.success.call(r,t,s,e),o&&o.resolveWith(r,[t,s,e]),i(n,r,"ajaxSuccess",[e,n,t]),l(s,e,n)}function a(t,e,n,o,r){var s=o.context;o.error.call(s,n,e,t),r&&r.rejectWith(s,[n,e,t]),i(o,s,"ajaxError",[n,o,t||e]),l(e,n,o)}function l(t,e,n){var r=n.context;n.complete.call(r,e,t),i(n,r,"ajaxComplete",[e,n]),o(n)}function c(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==S?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function f(e,i,n,o){return t.isFunction(i)&&(o=n,n=i,i=void 0),t.isFunction(n)||(o=n,n=void 0),{url:e,data:i,success:n,dataType:o}}function d(e,i,n,o){var r,s=t.isArray(i),a=t.isPlainObject(i);t.each(i,function(i,l){r=t.type(l),o&&(i=n?o:o+"["+(a||"object"==r||"array"==r?i:"")+"]"),!o&&s?e.add(l.name,l.value):"array"==r||!n&&"object"==r?d(e,l,n,i):e.add(i,l)})}var m,g,v=0,y=window.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,S="application/json",T="text/html",E=/^\s*$/,P=y.createElement("a");P.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,o,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++v,u=y.createElement("script"),h=window[c],p=function(e){t(u).triggerHandler("error",e||"abort")},f={abort:p};return i&&i.promise(f),t(u).on("load error",function(r,l){clearTimeout(o),
t(u).off().remove(),"error"!=r.type&&n?s(n[0],f,e,i):a(null,l||"error",f,e,i),window[c]=h,n&&t.isFunction(h)&&h(n[0]),h=n=void 0}),r(f,e)===!1?(p("abort"),f):(window[c]=function(){n=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),e.timeout>0&&(o=setTimeout(function(){p("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,o,l=t.extend({},e||{}),f=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===l[m]&&(l[m]=t.ajaxSettings[m]);n(l),l.crossDomain||(i=y.createElement("a"),i.href=l.url,i.href=i.href,l.crossDomain=P.protocol+"//"+P.host!=i.protocol+"//"+i.host),l.url||(l.url=window.location.toString()),(o=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,o)),p(l);var d=l.dataType,v=/\?.+=\?/.test(l.url);if(v&&(d="jsonp"),l.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(l.url=h(l.url,"_="+Date.now())),"jsonp"==d)return v||(l.url=h(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),t.ajaxJSONP(l,f);var x,w=l.accepts[d],b={},S=function(t,e){b[t.toLowerCase()]=[t,e]},T=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,k=l.xhr(),C=k.setRequestHeader;if(f&&f.promise(k),l.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",w||"*/*"),(w=l.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(w)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&S("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(g in l.headers)S(g,l.headers[g]);if(k.setRequestHeader=S,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=c,clearTimeout(x);var e,i=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==T){if(d=d||u(l.mimeType||k.getResponseHeader("content-type")),"arraybuffer"==k.responseType||"blob"==k.responseType)e=k.response;else{e=k.responseText;try{"script"==d?(0,eval)(e):"xml"==d?e=k.responseXML:"json"==d&&(e=E.test(e)?null:t.parseJSON(e))}catch(n){i=n}if(i)return a(i,"parsererror",k,l,f)}s(e,k,l,f)}else a(k.statusText||null,k.status?"error":"abort",k,l,f)}},r(k,l)===!1)return k.abort(),a(null,"abort",k,l,f),k;if(l.xhrFields)for(g in l.xhrFields)k[g]=l.xhrFields[g];var A=!("async"in l)||l.async;k.open(l.type,l.url,A,l.username,l.password);for(g in b)C.apply(k,b[g]);return l.timeout>0&&(x=setTimeout(function(){k.onreadystatechange=c,k.abort(),a(null,"timeout",k,l,f)},l.timeout)),k.send(l.data?l.data:null),k},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var o,r=this,s=e.split(/\s/),a=f(e,i,n),l=a.success;return s.length>1&&(a.url=s[0],o=s[1]),a.success=function(e){r.html(o?t("<div>").html(e.replace(x,"")).find(o):e),l&&l.apply(r,arguments)},t.ajax(a),this};var k=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(k(e)+"="+k(i))},d(n,e,i),n.join("&").replace(/%20/g,"+")}}(Zepto),function(){"use strict";function t(e,n){function o(t,e){return function(){return t.apply(e,arguments)}}var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=s.length;l<c;l++)a[s[l]]=o(a[s[l]],a);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,i.hijacked||i,n):o.call(e,t,i,n)},e.addEventListener=function(t,i,n){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(e,t,i,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,o=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=n&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],n){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=u.tagName.toLowerCase(),"label"===a){if(e=this.findControl(u)){if(this.focus(u),i)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-s>100||n&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),n&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!n||o||(l=u.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),FastClick.attach(document.body),window.$$=Zepto,function(t,e,i){function n(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in i)this.options[n]=i[n];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,n){var o=e.createElement("div"),r=e.createElement("div");return n===!0&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(n===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(n===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(r),o}function r(i,n){this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in n)this.options[o]=n[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function n(t){return s!==!1&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}var o={},r=e.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,n=e.length;i<n;i++)if(t=e[i]+"ransform",t in r)return e[i].substr(0,e[i].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},o.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},o.momentum=function(t,e,n,o,r,s){var a,l,c=t-e,u=i.abs(c)/n;return s=void 0===s?6e-4:s,a=t+u*u/(2*s)*(c<0?-1:1),l=u/s,a<o?(a=r?o-r/2.5*(u/8):o,c=i.abs(a-t),l=c/u):a>0&&(a=r?r/2.5*(u/8):0,c=i.abs(t)+a,l=c/u),{destination:i.round(a),duration:l}};var a=n("transform");return o.extend(o,{hasTransform:a!==!1,hasPerspective:n("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:n("transition")in r}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:a,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin")}),o.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),o.tap=function(t,i){var n=e.createEvent("Event");n.initEvent(i,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},o.click=function(t){var i,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,n.dispatchEvent(i))},o}();n.prototype={version:"5.1.2",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==a.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,o,r,s=t.touches?t.touches[0]:t,l=s.pageX-this.pointX,c=s.pageY-this.pointY,u=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=l,this.distY+=c,o=i.abs(this.distX),r=i.abs(this.distY),!(u-this.endTime>300&&o<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(o>r+this.options.directionLockThreshold?this.directionLocked="h":r>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,n=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+c/3:n>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,o=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),r=i.round(this.x),s=i.round(this.y),l=i.abs(r-this.startX),c=i.abs(s-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&o<200&&l<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&o<300&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=e.destination,s=n.destination,u=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(r,s);this.currentPage=p,u=this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-p.x),1e3),i.min(i.abs(s-p.y),1e3)),300),r=p.x,s=p.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return r!=this.x||s!=this.y?((r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=a.ease.quadratic),void this.scrollTo(r,s,u,h)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,o,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=a.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,n===!0&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=o||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-s.left),i.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(n,a.prefixPointerEvent("pointermove"),this),i(n,a.prefixPointerEvent("pointercancel"),this),i(n,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[a.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,s=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),s.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),s.push(e))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var l=s.length;l--;)this.indicators.push(new r(this,s[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,o,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)e=-t.deltaX,n=-t.deltaY;else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return o=this.currentPage.pageX,r=this.currentPage.pageY,e>0?o--:e<0&&o++,n>0?r--:n<0&&r++,void this.goToPage(o,r);o=this.x+i.round(this.hasHorizontalScroll?e:0),r=this.y+i.round(this.hasVerticalScroll?n:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(o,r,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,o,r,s,a=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(u/2),o=i.round(h/2);c>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:i.max(c,this.maxScrollX),y:i.max(r,this.maxScrollY),width:u,height:h,cx:c-n,cy:r-o},r-=h,t++;c-=u,a++}else for(s=this.options.snap,t=s.length,e=-1;a<t;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=i.max(-s[a].offsetLeft,this.maxScrollX),r=i.max(-s[a].offsetTop,this.maxScrollY),n=c-i.round(s[a].offsetWidth/2),o=r-i.round(s[a].offsetHeight/2),this.pages[l][e]={x:c,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:n,cy:o},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,o=this.pages.length,r=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;
for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<o;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(o=this.pages[n].length;r<o;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},goToPage:function(t,e,n,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,s=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-this.x),1e3),i.min(i.abs(s-this.y),1e3)),300):n,this.currentPage={x:r,y:s,pageX:t,pageY:e},this.scrollTo(r,s,n,o)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(e){var i,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in n)this.options.keyBindings[i]=this.options.keyBindings[i]||n[i];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,o=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,s=a.getTime(),l=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-l<200?i.min(this.keyAcceleration+c,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,r=0;break;case this.options.keyBindings.left:o+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(o,r);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,r,0),this.keyTime=s}},_animate:function(t,e,i,n){function o(){var p,f,d,m=a.getTime();return m>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(m=(m-u)/i,d=n(m),p=(t-l)*d+l,f=(e-c)*d+c,r._translate(p,f),r.isAnimating&&s(o),void(3==r.options.probeType&&r._execEvent("scroll")))}var r=this,l=this.x,c=this.y,u=a.getTime(),h=u+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,o,r=t.touches?t.touches[0]:t,s=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,i=r.pageY-this.lastPointY,this.lastPointY=r.pageY,n=this.x+e,o=this.y+i,this._pos(n,o),1==this.scroller.options.probeType&&s-this.startTime>300?(this.startTime=s,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},n.utils=a,"undefined"!=typeof module&&module.exports?module.exports=n:t.IScroll=n}(window,document,Math),function(t){function e(t){var e=t.length,n=i.type(t);return"function"!==n&&!i.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}var i=function(t,e){return new i.fn.init(t,e)};i.isWindow=function(t){return null!=t&&t==t.window},i.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?o[s.call(t)]||"object":typeof t},i.isArray=Array.isArray||function(t){return"array"===i.type(t)},i.isPlainObject=function(t){var e;if(!t||"object"!==i.type(t)||t.nodeType||i.isWindow(t))return!1;try{if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(e in t);return void 0===e||r.call(t,e)},i.each=function(t,i,n){var o,r=0,s=t.length,a=e(t);if(n){if(a)for(;r<s&&(o=i.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=i.apply(t[r],n),o===!1)break}else if(a)for(;r<s&&(o=i.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=i.call(t[r],r,t[r]),o===!1)break;return t},i.data=function(t,e,o){if(void 0===o){var r=t[i.expando],s=r&&n[r];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var r=t[i.expando]||(t[i.expando]=++i.uuid);return n[r]=n[r]||{},n[r][e]=o,o}},i.removeData=function(t,e){var o=t[i.expando],r=o&&n[o];r&&i.each(e,function(t,e){delete r[e]})},i.extend=function(){var t,e,n,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==i.type(a)&&(a={}),l===c&&(a=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)t=a[o],n=r[o],a!==n&&(u&&n&&(i.isPlainObject(n)||(e=i.isArray(n)))?(e?(e=!1,s=t&&i.isArray(t)?t:[]):s=t&&i.isPlainObject(t)?t:{},a[o]=i.extend(u,s,n)):void 0!==n&&(a[o]=n));return a},i.queue=function(t,n,o){function r(t,i){var n=i||[];return null!=t&&(e(Object(t))?!function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;)t[o++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[o++]=e[n++];return t.length=o,t}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(t){n=(n||"fx")+"queue";var s=i.data(t,n);return o?(!s||i.isArray(o)?s=i.data(t,n,r(o)):s.push(o),s):s||[]}},i.dequeue=function(t,e){i.each(t.nodeType?[t]:t,function(t,n){e=e||"fx";var o=i.queue(n,e),r=o.shift();"inprogress"===r&&(r=o.shift()),r&&("fx"===e&&o.unshift("inprogress"),r.call(n,function(){i.dequeue(n,e)}))})},i.fn=i.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),n=this.offset(),o=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:i(t).offset();return n.top-=parseFloat(e.style.marginTop)||0,n.left-=parseFloat(e.style.marginLeft)||0,t.style&&(o.top+=parseFloat(t.style.borderTopWidth)||0,o.left+=parseFloat(t.style.borderLeftWidth)||0),{top:n.top-o.top,left:n.left-o.left}}};var n={};i.expando="velocity"+(new Date).getTime(),i.uuid=0;for(var o={},r=o.hasOwnProperty,s=o.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)o["[object "+a[l]+"]"]=a[l].toLowerCase();i.fn.init.prototype=i.fn,t.Velocity={Utilities:i}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,i,n){function o(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var o=t[e];o&&n.push(o)}return n}function r(t){return m.isWrapped(t)?t=[].slice.call(t):m.isNode(t)&&(t=[t]),t}function s(t){var e=p.data(t,"velocity");return null===e?n:e}function a(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,i,n,o){function r(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,i){return((r(e,i)*t+s(e,i))*t+a(e))*t}function c(t,e,i){return 3*r(e,i)*t*t+2*s(e,i)*t+a(e)}function u(e,i){for(var o=0;o<m;++o){var r=c(i,t,n);if(0===r)return i;var s=l(i,t,n)-e;i-=s/r}return i}function h(){for(var e=0;e<x;++e)T[e]=l(e*w,t,n)}function p(e,i,o){var r,s,a=0;do s=i+(o-i)/2,r=l(s,t,n)-e,r>0?o=s:i=s;while(Math.abs(r)>v&&++a<y);return s}function f(e){for(var i=0,o=1,r=x-1;o!=r&&T[o]<=e;++o)i+=w;--o;var s=(e-T[o])/(T[o+1]-T[o]),a=i+s*w,l=c(a,t,n);return l>=g?u(e,a):0==l?a:p(e,i,i+w)}function d(){E=!0,t==i&&n==o||h()}var m=4,g=.001,v=1e-7,y=10,x=11,w=1/(x-1),b="Float32Array"in e;if(4!==arguments.length)return!1;for(var S=0;S<4;++S)if("number"!=typeof arguments[S]||isNaN(arguments[S])||!isFinite(arguments[S]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var T=b?new Float32Array(x):new Array(x),E=!1,P=function(e){return E||d(),t===i&&n===o?e:0===e?0:1===e?1:l(f(e),i,o)};P.getControlPoints=function(){return[{x:t,y:i},{x:n,y:o}]};var k="generateBezier("+[t,i,n,o]+")";return P.toString=function(){return k},P}function c(t,e){var i=t;return m.isString(t)?x.Easings[t]||(i=!1):i=m.isArray(t)&&1===t.length?a.apply(null,t):m.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):!(!m.isArray(t)||4!==t.length)&&l.apply(null,t),i===!1&&(i=x.Easings[x.defaults.easing]?x.defaults.easing:y),i}function u(t){if(t){var e=(new Date).getTime(),i=x.State.calls.length;i>1e4&&(x.State.calls=o(x.State.calls));for(var r=0;r<i;r++)if(x.State.calls[r]){var a=x.State.calls[r],l=a[0],c=a[2],f=a[3],d=!!f,g=null;f||(f=x.State.calls[r][3]=e-16);for(var v=Math.min((e-f)/c.duration,1),y=0,w=l.length;y<w;y++){var S=l[y],E=S.element;if(s(E)){var P=!1;if(c.display!==n&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var k=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(k,function(t,e){b.setPropertyValue(E,"display",e)})}b.setPropertyValue(E,"display",c.display)}c.visibility!==n&&"hidden"!==c.visibility&&b.setPropertyValue(E,"visibility",c.visibility);for(var C in S)if("element"!==C){var A,X=S[C],V=m.isString(X.easing)?x.Easings[X.easing]:X.easing;if(1===v)A=X.endValue;else{var _=X.endValue-X.startValue;if(A=X.startValue+_*V(v,c,_),!d&&A===X.currentValue)continue}if(X.currentValue=A,"tween"===C)g=A;else{if(b.Hooks.registered[C]){var Y=b.Hooks.getRoot(C),L=s(E).rootPropertyValueCache[Y];L&&(X.rootPropertyValue=L)}var j=b.setPropertyValue(E,C,X.currentValue+(0===parseFloat(A)?"":X.unitType),X.rootPropertyValue,X.scrollData);b.Hooks.registered[C]&&(b.Normalizations.registered[Y]?s(E).rootPropertyValueCache[Y]=b.Normalizations.registered[Y]("extract",null,j[1]):s(E).rootPropertyValueCache[Y]=j[1]),"transform"===j[0]&&(P=!0)}}c.mobileHA&&s(E).transformCache.translate3d===n&&(s(E).transformCache.translate3d="(0px, 0px, 0px)",P=!0),P&&b.flushTransformCache(E)}}c.display!==n&&"none"!==c.display&&(x.State.calls[r][2].display=!1),c.visibility!==n&&"hidden"!==c.visibility&&(x.State.calls[r][2].visibility=!1),c.progress&&c.progress.call(a[1],a[1],v,Math.max(0,f+c.duration-e),f,g),1===v&&h(r)}}x.State.isTicking&&T(u)}function h(t,e){if(!x.State.calls[t])return!1;for(var i=x.State.calls[t][0],o=x.State.calls[t][1],r=x.State.calls[t][2],a=x.State.calls[t][4],l=!1,c=0,u=i.length;c<u;c++){var h=i[c].element;if(e||r.loop||("none"===r.display&&b.setPropertyValue(h,"display",r.display),"hidden"===r.visibility&&b.setPropertyValue(h,"visibility",r.visibility)),r.loop!==!0&&(p.queue(h)[1]===n||!/\.velocityQueueEntryFlag/i.test(p.queue(h)[1]))&&s(h)){s(h).isAnimating=!1,s(h).rootPropertyValueCache={};var f=!1;p.each(b.Lists.transforms3D,function(t,e){var i=/^scale/.test(e)?1:0,o=s(h).transformCache[e];s(h).transformCache[e]!==n&&new RegExp("^\\("+i+"[^.]").test(o)&&(f=!0,delete s(h).transformCache[e])}),r.mobileHA&&(f=!0,delete s(h).transformCache.translate3d),f&&b.flushTransformCache(h),b.Values.removeClass(h,"velocity-animating")}if(!e&&r.complete&&!r.loop&&c===u-1)try{r.complete.call(o,o)}catch(d){setTimeout(function(){throw d},1)}a&&r.loop!==!0&&a(o),s(h)&&r.loop===!0&&!e&&(p.each(s(h).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),x(h,"reverse",{loop:!0,delay:r.delay})),r.queue!==!1&&p.dequeue(h,r.queue)}x.State.calls[t]=!1;for(var m=0,g=x.State.calls.length;m<g;m++)if(x.State.calls[m]!==!1){l=!0;break}l===!1&&(x.State.isTicking=!1,delete x.State.calls,x.State.calls=[])}var p,f=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return n}(),d=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-t)),t=n+i,setTimeout(function(){e(n+i)},i)}}(),m={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==n&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},g=!1;if(t.fn&&t.fn.jquery?(p=t,g=!0):p=e.Velocity.Utilities,f<=8&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(f<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",x={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:v,easing:y,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){p.data(t,"velocity",{isSVG:m.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};e.pageYOffset!==n?(x.State.scrollAnchor=e,x.State.scrollPropertyLeft="pageXOffset",x.State.scrollPropertyTop="pageYOffset"):(x.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,x.State.scrollPropertyLeft="scrollLeft",x.State.scrollPropertyTop="scrollTop");var w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var o={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function i(i,n){var o={dx:i.v,dv:t(i)},r=e(i,.5*n,o),s=e(i,.5*n,r),a=e(i,n,s),l=1/6*(o.dx+2*(r.dx+s.dx)+a.dx),c=1/6*(o.dv+2*(r.dv+s.dv)+a.dv);return i.x=i.x+l*n,i.v=i.v+c*n,i}return function n(t,e,o){var r,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4,p=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,o=o||null,l.tension=t,l.friction=e,r=null!==o,r?(u=n(t,e),s=u/o*p):s=p;;)if(a=i(a||l,s),c.push(1+a.x),u+=16,!(Math.abs(a.x)>h&&Math.abs(a.v)>h))break;return r?function(t){return c[t*(c.length-1)|0]}:u}}();x.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){x.Easings[e[0]]=l.apply(null,e[1])});var b=x.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<b.Lists.colors.length;t++){var e="color"===b.Lists.colors[t]?"0 0 0 1":"255 255 255 1";b.Hooks.templates[b.Lists.colors[t]]=["Red Green Blue Alpha",e]}var i,n,o;if(f)for(i in b.Hooks.templates){n=b.Hooks.templates[i],o=n[0].split(" ");var r=n[1].match(b.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),r.push(r.shift()),b.Hooks.templates[i]=[o.join(" "),r.join(" ")])}for(i in b.Hooks.templates){n=b.Hooks.templates[i],o=n[0].split(" ");for(var t in o){var s=i+o[t],a=t;b.Hooks.registered[s]=[i,a]}}},getRoot:function(t){var e=b.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return b.RegEx.valueUnwrap.test(e)&&(e=e.match(b.RegEx.valueUnwrap)[1]),b.Values.isCSSNullValue(e)&&(e=b.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=b.Hooks.registered[t];if(i){var n=i[0],o=i[1];return e=b.Hooks.cleanRootPropertyValue(n,e),e.toString().match(b.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,i){var n=b.Hooks.registered[t];if(n){var o,r,s=n[0],a=n[1];return i=b.Hooks.cleanRootPropertyValue(s,i),o=i.toString().match(b.RegEx.valueSplit),o[a]=e,r=o.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var n;return b.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:(n=i.toString().match(b.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):i),n;case"inject":return"rect("+i+")"}},blur:function(t,e,i){switch(t){case"name":return x.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(i);if(!n&&0!==n){var o=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=o?o[1]:0}return n;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(t,e,i){if(f<=8)switch(t){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){f<=9||x.State.isGingerbread||(b.Lists.transformsBase=b.Lists.transformsBase.concat(b.Lists.transforms3D));for(var t=0;t<b.Lists.transformsBase.length;t++)!function(){var e=b.Lists.transformsBase[t];b.Normalizations.registered[e]=function(t,i,o){switch(t){case"name":return"transform";case"extract":return s(i)===n||s(i).transformCache[e]===n?/^scale/i.test(e)?1:0:s(i).transformCache[e].replace(/[()]/g,"");case"inject":var r=!1;switch(e.substr(0,e.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":x.State.isAndroid&&s(i).transformCache[e]===n&&o<1&&(o=1),r=!/(\d)$/i.test(o);break;case"skew":r=!/(deg|\d)$/i.test(o);break;case"rotate":r=!/(deg|\d)$/i.test(o)}return r||(s(i).transformCache[e]="("+o+")"),s(i).transformCache[e]}}}();for(var t=0;t<b.Lists.colors.length;t++)!function(){var e=b.Lists.colors[t];b.Normalizations.registered[e]=function(t,i,o){switch(t){case"name":return e;case"extract":var r;if(b.RegEx.wrappedValueAlreadyExtracted.test(o))r=o;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?s=a[o]!==n?a[o]:a.black:b.RegEx.isHex.test(o)?s="rgb("+b.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(s=a.black),r=(s||o).toString().match(b.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return f<=8||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return f<=8?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(f<=8?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||x.State.isAndroid&&!x.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(x.State.prefixMatches[t])return[x.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,n=e.length;i<n;i++){var o;if(o=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),m.isString(x.State.prefixElement.style[o]))return x.State.prefixMatches[t]=o,[o,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(i,function(t,e,i,n){return e+e+i+i+n+n}),e=n.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,i,o,r){function a(t,i){function o(){c&&b.setPropertyValue(t,"display","none")}var l=0;if(f<=8)l=p.css(t,i);else{var c=!1;if(/^(width|height)$/.test(i)&&0===b.getPropertyValue(t,"display")&&(c=!0,b.setPropertyValue(t,"display",b.Values.getDisplayType(t))),!r){if("height"===i&&"border-box"!==b.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(b.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(b.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(b.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(b.getPropertyValue(t,"paddingBottom"))||0);return o(),u}if("width"===i&&"border-box"!==b.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetWidth-(parseFloat(b.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(b.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(b.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(b.getPropertyValue(t,"paddingRight"))||0);return o(),h}}var d;d=s(t)===n?e.getComputedStyle(t,null):s(t).computedStyle?s(t).computedStyle:s(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===i&&(i="borderTopColor"),l=9===f&&"filter"===i?d.getPropertyValue(i):d[i],""!==l&&null!==l||(l=t.style[i]),
o()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(i)){var m=a(t,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(i))&&(l=p(t).position()[i]+"px")}return l}var l;if(b.Hooks.registered[i]){var c=i,u=b.Hooks.getRoot(c);o===n&&(o=b.getPropertyValue(t,b.Names.prefixCheck(u)[0])),b.Normalizations.registered[u]&&(o=b.Normalizations.registered[u]("extract",t,o)),l=b.Hooks.extractValue(c,o)}else if(b.Normalizations.registered[i]){var h,d;h=b.Normalizations.registered[i]("name",t),"transform"!==h&&(d=a(t,b.Names.prefixCheck(h)[0]),b.Values.isCSSNullValue(d)&&b.Hooks.templates[i]&&(d=b.Hooks.templates[i][1])),l=b.Normalizations.registered[i]("extract",t,d)}if(!/^[\d-]/.test(l))if(s(t)&&s(t).isSVG&&b.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{l=t.getBBox()[i]}catch(m){l=0}else l=t.getAttribute(i);else l=a(t,b.Names.prefixCheck(i)[0]);return b.Values.isCSSNullValue(l)&&(l=0),x.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(t,i,n,o,r){var a=i;if("scroll"===i)r.container?r.container["scroll"+r.direction]=n:"Left"===r.direction?e.scrollTo(n,r.alternateValue):e.scrollTo(r.alternateValue,n);else if(b.Normalizations.registered[i]&&"transform"===b.Normalizations.registered[i]("name",t))b.Normalizations.registered[i]("inject",t,n),a="transform",n=s(t).transformCache[i];else{if(b.Hooks.registered[i]){var l=i,c=b.Hooks.getRoot(i);o=o||b.getPropertyValue(t,c),n=b.Hooks.injectValue(l,n,o),i=c}if(b.Normalizations.registered[i]&&(n=b.Normalizations.registered[i]("inject",t,n),i=b.Normalizations.registered[i]("name",t)),a=b.Names.prefixCheck(i)[0],f<=8)try{t.style[a]=n}catch(u){x.debug&&console.log("Browser does not support ["+n+"] for ["+a+"]")}else s(t)&&s(t).isSVG&&b.Names.SVGAttribute(i)?t.setAttribute(i,n):t.style[a]=n;x.debug>=2&&console.log("Set "+i+" ("+a+"): "+n)}return[a,n]},flushTransformCache:function(t){function e(e){return parseFloat(b.getPropertyValue(t,e))}var i="";if((f||x.State.isAndroid&&!x.State.isChrome)&&s(t).isSVG){var n={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};p.each(s(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),n[t]&&(i+=t+"("+n[t].join(" ")+") ",delete n[t])})}else{var o,r;p.each(s(t).transformCache,function(e){return o=s(t).transformCache[e],"transformPerspective"===e?(r=o,!0):(9===f&&"rotateZ"===e&&(e="rotate"),void(i+=e+o+" "))}),r&&(i="perspective"+r+" "+i)}b.setPropertyValue(t,"transform",i)}};b.Hooks.register(),b.Normalizations.register(),x.hook=function(t,e,i){var o=n;return t=r(t),p.each(t,function(t,r){if(s(r)===n&&x.init(r),i===n)o===n&&(o=x.CSS.getPropertyValue(r,e));else{var a=x.CSS.setPropertyValue(r,e,i);"transform"===a[0]&&x.CSS.flushTransformCache(r),o=a}}),o};var S=function(){function t(){return a?C.promise||null:l}function o(){function t(t){function h(t,e){var i=n,o=n,s=n;return m.isArray(t)?(i=t[0],!m.isArray(t[1])&&/^[\d-]/.test(t[1])||m.isFunction(t[1])||b.RegEx.isHex.test(t[1])?s=t[1]:(m.isString(t[1])&&!b.RegEx.isHex.test(t[1])||m.isArray(t[1]))&&(o=e?t[1]:c(t[1],a.duration),t[2]!==n&&(s=t[2]))):i=t,e||(o=o||a.easing),m.isFunction(i)&&(i=i.call(r,E,T)),m.isFunction(s)&&(s=s.call(r,E,T)),[i||0,o,s]}function f(t,e){var i,n;return n=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=b.Values.getUnitType(t)),[n,i]}function v(){var t={myParent:r.parentNode||i.body,position:b.getPropertyValue(r,"position"),fontSize:b.getPropertyValue(r,"fontSize")},n=t.position===j.lastPosition&&t.myParent===j.lastParent,o=t.fontSize===j.lastFontSize;j.lastParent=t.myParent,j.lastPosition=t.position,j.lastFontSize=t.fontSize;var a=100,l={};if(o&&n)l.emToPx=j.lastEmToPx,l.percentToPxWidth=j.lastPercentToPxWidth,l.percentToPxHeight=j.lastPercentToPxHeight;else{var c=s(r).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");x.init(c),t.myParent.appendChild(c),p.each(["overflow","overflowX","overflowY"],function(t,e){x.CSS.setPropertyValue(c,e,"hidden")}),x.CSS.setPropertyValue(c,"position",t.position),x.CSS.setPropertyValue(c,"fontSize",t.fontSize),x.CSS.setPropertyValue(c,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){x.CSS.setPropertyValue(c,e,a+"%")}),x.CSS.setPropertyValue(c,"paddingLeft",a+"em"),l.percentToPxWidth=j.lastPercentToPxWidth=(parseFloat(b.getPropertyValue(c,"width",null,!0))||1)/a,l.percentToPxHeight=j.lastPercentToPxHeight=(parseFloat(b.getPropertyValue(c,"height",null,!0))||1)/a,l.emToPx=j.lastEmToPx=(parseFloat(b.getPropertyValue(c,"paddingLeft"))||1)/a,t.myParent.removeChild(c)}return null===j.remToPx&&(j.remToPx=parseFloat(b.getPropertyValue(i.body,"fontSize"))||16),null===j.vwToPx&&(j.vwToPx=parseFloat(e.innerWidth)/100,j.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=j.remToPx,l.vwToPx=j.vwToPx,l.vhToPx=j.vhToPx,x.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),r),l}if(a.begin&&0===E)try{a.begin.call(d,d)}catch(w){setTimeout(function(){throw w},1)}if("scroll"===A){var S,P,k,X=/^x$/i.test(a.axis)?"Left":"Top",V=parseFloat(a.offset)||0;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,S=a.container["scroll"+X],k=S+p(r).position()[X.toLowerCase()]+V):a.container=null:(S=x.State.scrollAnchor[x.State["scrollProperty"+X]],P=x.State.scrollAnchor[x.State["scrollProperty"+("Left"===X?"Top":"Left")]],k=p(r).offset()[X.toLowerCase()]+V),l={scroll:{rootPropertyValue:!1,startValue:S,currentValue:S,endValue:k,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:X,alternateValue:P}},element:r},x.debug&&console.log("tweensContainer (scroll): ",l.scroll,r)}else if("reverse"===A){if(!s(r).tweensContainer)return void p.dequeue(r,a.queue);"none"===s(r).opts.display&&(s(r).opts.display="auto"),"hidden"===s(r).opts.visibility&&(s(r).opts.visibility="visible"),s(r).opts.loop=!1,s(r).opts.begin=null,s(r).opts.complete=null,y.easing||delete a.easing,y.duration||delete a.duration,a=p.extend({},s(r).opts,a);var _=p.extend(!0,{},s(r).tweensContainer);for(var Y in _)if("element"!==Y){var L=_[Y].startValue;_[Y].startValue=_[Y].currentValue=_[Y].endValue,_[Y].endValue=L,m.isEmptyObject(y)||(_[Y].easing=a.easing),x.debug&&console.log("reverse tweensContainer ("+Y+"): "+JSON.stringify(_[Y]),r)}l=_}else if("start"===A){var _;s(r).tweensContainer&&s(r).isAnimating===!0&&(_=s(r).tweensContainer),p.each(g,function(t,e){if(RegExp("^"+b.Lists.colors.join("$|^")+"$").test(t)){var i=h(e,!0),o=i[0],r=i[1],s=i[2];if(b.RegEx.isHex.test(o)){for(var a=["Red","Green","Blue"],l=b.Values.hexToRgb(o),c=s?b.Values.hexToRgb(s):n,u=0;u<a.length;u++){var p=[l[u]];r&&p.push(r),c!==n&&p.push(c[u]),g[t+a[u]]=p}delete g[t]}}});for(var N in g){var F=h(g[N]),M=F[0],O=F[1],z=F[2];N=b.Names.camelCase(N);var D=b.Hooks.getRoot(N),I=!1;if(s(r).isSVG||"tween"===D||b.Names.prefixCheck(D)[1]!==!1||b.Normalizations.registered[D]!==n){(a.display!==n&&null!==a.display&&"none"!==a.display||a.visibility!==n&&"hidden"!==a.visibility)&&/opacity|filter/.test(N)&&!z&&0!==M&&(z=0),a._cacheValues&&_&&_[N]?(z===n&&(z=_[N].endValue+_[N].unitType),I=s(r).rootPropertyValueCache[D]):b.Hooks.registered[N]?z===n?(I=b.getPropertyValue(r,D),z=b.getPropertyValue(r,N,I)):I=b.Hooks.templates[D][1]:z===n&&(z=b.getPropertyValue(r,N));var W,R,$,B=!1;if(W=f(N,z),z=W[0],$=W[1],W=f(N,M),M=W[0].replace(/^([+-\/*])=/,function(t,e){return B=e,""}),R=W[1],z=parseFloat(z)||0,M=parseFloat(M)||0,"%"===R&&(/^(fontSize|lineHeight)$/.test(N)?(M/=100,R="em"):/^scale/.test(N)?(M/=100,R=""):/(Red|Green|Blue)$/i.test(N)&&(M=M/100*255,R="")),/[\/*]/.test(B))R=$;else if($!==R&&0!==z)if(0===M)R=$;else{o=o||v();var q=/margin|padding|left|right|width|text|word|letter/i.test(N)||/X$/.test(N)||"x"===N?"x":"y";switch($){case"%":z*="x"===q?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:z*=o[$+"ToPx"]}switch(R){case"%":z*=1/("x"===q?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:z*=1/o[R+"ToPx"]}}switch(B){case"+":M=z+M;break;case"-":M=z-M;break;case"*":M=z*M;break;case"/":M=z/M}l[N]={rootPropertyValue:I,startValue:z,currentValue:z,endValue:M,unitType:R,easing:O},x.debug&&console.log("tweensContainer ("+N+"): "+JSON.stringify(l[N]),r)}else x.debug&&console.log("Skipping ["+D+"] due to a lack of browser support.")}l.element=r}l.element&&(b.Values.addClass(r,"velocity-animating"),H.push(l),""===a.queue&&(s(r).tweensContainer=l,s(r).opts=a),s(r).isAnimating=!0,E===T-1?(x.State.calls.push([H,d,a,null,C.resolver]),x.State.isTicking===!1&&(x.State.isTicking=!0,u())):E++)}var o,r=this,a=p.extend({},x.defaults,y),l={};switch(s(r)===n&&x.init(r),parseFloat(a.delay)&&a.queue!==!1&&p.queue(r,a.queue,function(t){x.velocityQueueEntryFlag=!0,s(r).delayTimer={setTimeout:setTimeout(t,parseFloat(a.delay)),next:t}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}x.mock!==!1&&(x.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(x.mock)||1,a.delay*=parseFloat(x.mock)||1)),a.easing=c(a.easing,a.duration),a.begin&&!m.isFunction(a.begin)&&(a.begin=null),a.progress&&!m.isFunction(a.progress)&&(a.progress=null),a.complete&&!m.isFunction(a.complete)&&(a.complete=null),a.display!==n&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=x.CSS.Values.getDisplayType(r))),a.visibility!==n&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&x.State.isMobile&&!x.State.isGingerbread,a.queue===!1?a.delay?setTimeout(t,a.delay):t():p.queue(r,a.queue,function(e,i){return i===!0?(C.promise&&C.resolver(d),!0):(x.velocityQueueEntryFlag=!0,void t(e))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===p.queue(r)[0]||p.dequeue(r)}var a,l,f,d,g,y,w=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(a=!1,f=0,d=this,l=this):(a=!0,f=1,d=w?arguments[0].elements||arguments[0].e:arguments[0]),d=r(d)){w?(g=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(g=arguments[f],y=arguments[f+1]);var T=d.length,E=0;if(!/^(stop|finish|finishAll)$/i.test(g)&&!p.isPlainObject(y)){var P=f+1;y={};for(var k=P;k<arguments.length;k++)m.isArray(arguments[k])||!/^(fast|normal|slow)$/i.test(arguments[k])&&!/^\d/.test(arguments[k])?m.isString(arguments[k])||m.isArray(arguments[k])?y.easing=arguments[k]:m.isFunction(arguments[k])&&(y.complete=arguments[k]):y.duration=arguments[k]}var C={promise:null,resolver:null,rejecter:null};a&&x.Promise&&(C.promise=new x.Promise(function(t,e){C.resolver=t,C.rejecter=e}));var A;switch(g){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"finish":case"finishAll":case"stop":p.each(d,function(t,e){s(e)&&s(e).delayTimer&&(clearTimeout(s(e).delayTimer.setTimeout),s(e).delayTimer.next&&s(e).delayTimer.next(),delete s(e).delayTimer),"finishAll"!==g||y!==!0&&!m.isString(y)||(p.each(p.queue(e,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e()}),p.queue(e,m.isString(y)?y:"",[]))});var X=[];return p.each(x.State.calls,function(t,e){e&&p.each(e[1],function(i,o){var r=y===n?"":y;return r!==!0&&e[2].queue!==r&&(y!==n||e[2].queue!==!1)||void p.each(d,function(i,n){n===o&&((y===!0||m.isString(y))&&(p.each(p.queue(n,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e(null,!0)}),p.queue(n,m.isString(y)?y:"",[])),"stop"===g?(s(n)&&s(n).tweensContainer&&r!==!1&&p.each(s(n).tweensContainer,function(t,e){e.endValue=e.currentValue}),X.push(t)):"finish"!==g&&"finishAll"!==g||(e[2].duration=1))})})}),"stop"===g&&(p.each(X,function(t,e){h(e,!0)}),C.promise&&C.resolver(d)),t();default:if(!p.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&x.Redirects[g]){var V=p.extend({},y),_=V.duration,Y=V.delay||0;return V.backwards===!0&&(d=p.extend(!0,[],d).reverse()),p.each(d,function(t,e){parseFloat(V.stagger)?V.delay=Y+parseFloat(V.stagger)*t:m.isFunction(V.stagger)&&(V.delay=Y+V.stagger.call(e,t,T)),V.drag&&(V.duration=parseFloat(_)||(/^(callout|transition)/.test(g)?1e3:v),V.duration=Math.max(V.duration*(V.backwards?1-t/T:(t+1)/T),.75*V.duration,200)),x.Redirects[g].call(e,e,V||{},t,T,d,C.promise?C:n)}),t()}var L="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(L)):console.log(L),t()}A="start"}var j={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},H=[];p.each(d,function(t,e){m.isNode(e)&&o.call(e)});var N,V=p.extend({},x.defaults,y);if(V.loop=parseInt(V.loop),N=2*V.loop-1,V.loop)for(var F=0;F<N;F++){var M={delay:V.delay,progress:V.progress};F===N-1&&(M.display=V.display,M.visibility=V.visibility,M.complete=V.complete),S(d,"reverse",M)}return t()}};x=p.extend(S,x),x.animate=S;var T=e.requestAnimationFrame||d;return x.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(T=function(t){return setTimeout(function(){t(!0)},16)},u()):T=e.requestAnimationFrame||d}),t.Velocity=x,t!==e&&(t.fn.velocity=S,t.fn.velocity.defaults=x.defaults),p.each(["Down","Up"],function(t,e){x.Redirects["slide"+e]=function(t,i,o,r,s,a){var l=p.extend({},i),c=l.begin,u=l.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===n&&(l.display="Down"===e?"inline"===x.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(s,s);for(var i in h){f[i]=t.style[i];var n=x.CSS.getPropertyValue(t,i);h[i]="Down"===e?[n,0]:[0,n]}f.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in f)t.style[e]=f[e];u&&u.call(s,s),a&&a.resolver(s)},x(t,h,l)}}),p.each(["In","Out"],function(t,e){x.Redirects["fade"+e]=function(t,i,o,r,s,a){var l=p.extend({},i),c={opacity:"In"===e?1:0},u=l.complete;o!==r-1?l.complete=l.begin=null:l.complete=function(){u&&u.call(s,s),a&&a.resolver(s)},l.display===n&&(l.display="In"===e?"auto":"none"),x(this,c,l)}}),x}(window.Zepto||window.jQuery||window,window,document)}),function(t,e){"function"==typeof define&&define.amd?define("PubSub",[],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.PubSub=e(t)}(this,function(t){function e(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function i(t,i,n){if(e(t))if("function"==typeof t.forEach)t.forEach(i,n);else for(var o=0,r=t.length;o<r;o++)i.call(n,t[o],o,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.call(n,t[s],s,t)}function n(t){return new RegExp("^"+t.replace(".","\\.")+"(\\.|$)")}function o(){this._messagePool={}}var r=o.prototype;return r.on=function(t,e,i){var n=this._messagePool[t]||(this._messagePool[t]=[]);return n.push({callback:e,context:i||this}),this},r.once=function(t,e,i){var n=this,o=function(){n.off(t,o),e.apply(this,arguments)};return this.on(t,o,i)},r.off=function(t,e){var o,r;return"string"==typeof t?(o=t,r=e):"function"==typeof t&&(r=t),o||r?i(this._messagePool,function(t,e){var s=o?n(o):new RegExp;o&&!r?s.test(e)&&delete this._messagePool[e]:i(t,function(i,n){o&&r&&s.test(e)&&i.callback===r?t.splice(n,1):!o&&r&&i.callback===r&&t.splice(n,1)},this)},this):this._messagePool={},this},r.trigger=function(t,e){"undefined"!=typeof t&&(e=Array.prototype.slice.call(arguments,1),i(this._messagePool,function(o,r){n(t).test(r)&&i(o,function(t,i){t.callback.apply(t.context,e)},this)},this))},o.mixTo=function(t){var e=t;return"[object Function]"===Object.prototype.toString.call(t)&&(e=t.prototype),e._messagePool={},i(o.prototype,function(t,i){e[i]=t}),t},o}),function(t,e){"function"==typeof define&&define.amd?define("Loader",["pubsub"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("PubSub")):t.Loader=e(t,t.PubSub)}(this,function(t,e){function i(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function n(t,e,n){if(i(t))if("function"==typeof t.forEach)t.forEach(e,n);else for(var o=0,r=t.length;o<r;o++)e.call(n,t[o],o,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(n,t[s],s,t)}function o(t){return a.IMAGE.test(t)?s.IMAGE:null}function r(t){this.baseUrl=t||"",this.resources={},this.groups={},e.call(this)}var s={IMAGE:"image"},a={IMAGE:/\.(jpg|png|gif)$/},l={loadAsset:function(t,e,i,n){switch("function"==typeof e&&(n=i,i=e,e=void 0),"string"!=typeof e&&(e=o(t)),e){case s.IMAGE:this.loadImage(t,i,n);break;default:console.log("type not support"),n&&n(t)}},loadImage:function(t,e,i){var n=new Image;n.onload=function(){n.onload=new Function,e&&e(n)},n.onerror=function(){n.onerror=new Function,console.log("load fail"),i&&i(t)},n.src=t}};return r.prototype=Object.create(e.prototype),r.prototype.add=function(t,e,n,o){if(!t||!e)throw new Error("No url passed to add loader to loader.");return"string"!=typeof n&&(o=n,n=void 0),i(e)?this.addGroup(t,e,o):(this.resources[t]={url:e,type:n,name:t},this)},r.prototype.addGroup=function(t,e,i){if(!t||!e)throw new Error("No url passed to add loader to loader.");return this.groups[t]=e.map(function(t){return this.resources[t.name]=t,t.name},this),this},r.prototype.load=function(t,e){if(!(t in this.resources))return this.loadGroup(t,e);var i=this,n=this.resources[t];return l.loadAsset(this.baseUrl+n.url,n.type,function(){i.trigger("complete",t)}),this},r.prototype.loadGroup=function(t,e){if(!(t in this.groups))return console.log("data not exit"),this;var i=this.groups[t],n=i.length,o=0,r=this,s=this.resources[i[o]];return l.loadAsset(this.baseUrl+s.url,s.type,function(){o++,r.trigger("progress",t,o,n),o==n?r.trigger("complete",t,n):(s=r.resources[i[o]],l.loadAsset(r.baseUrl+s.url,s.type,arguments.callee))}),this},r.prototype.get=function(t){return this.resources[t]?this.resources[t]:this.groups[t]?this.getGroup(t):null},r.prototype.getGroup=function(t){if(this.groups[t]){var e=this;return this.groups[t].map(function(t){return e.resources[t]})}return null},r.prototype.getAll=function(){return this.resources},r.load=function(t,e){return i(t)?r.loadGroup(t,e):(l.loadAsset(t,e),r)},r.loadGroup=function(t,e){var i=t.length,o=0;return n(t,function(t,n){l.loadAsset("string"==typeof t?t:t.url,t.type,function(){o++,e(o,i)})}),r},r});var resData=[{name:"bg_jpg",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/bg.jpg"},{name:"buy1_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/buy1.png"},{name:"buy1_disable_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/buy1_disable.png"},{name:"buy1_disable_btn_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/buy1_disable_btn.png"},{name:"buy2_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/buy2.png"},{name:"buy2_disable_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/buy2_disable.png"},{name:"cakebox_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/cakebox.png"},{name:"cakemid_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/cakemid.png"},{name:"caketop_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/caketop.png"},{name:"flat_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/flat.png"},{name:"flow_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/flow.png"},{name:"flow2_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/flow2.png"},{name:"flow3_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/flow3.png"},{name:"flowers_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/flowers.png"},{name:"rules_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/rules.png"},{name:"vsop_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/vsop.png"},{name:"spoon_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/spoon.png"},{name:"title_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/title.png"},{name:"wine_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/wine.png"},{name:"chocolate_png",type:"image",url:"http://edm.mcake.com/weifengwang/test/images/chocolate.png"}],slTop=0,wrapHeight=$$(window).height(),useIScroll=isIphone(),animateNum=0;SItem.prototype={constructor:SItem,init:function(){this.isShow||this.isViewBottom()||this.compute(this.delay)},scroll:function(t){if(!this.isShow&&!this.isViewBottom()){var e=300*animateNum;animateNum++,this.compute(e,function(){animateNum--})}},compute:function(t,e){this.isShow=!0,this.dom.velocity({translateX:0,translateY:0,opacity:1},{duration:this.duration,delay:t,complete:function(){e&&e()}})},isViewTop:function(){return this.top<scrollTop},isViewBottom:function(){return this.top-slTop-wrapHeight>0}};var loader=new Loader;loader.addGroup("preload",resData),loader.on("progress",function(t,e,i){"preload"==t&&$$("#loading").html(parseInt(e/i*100)+"%")}),loader.on("complete",function(t){"preload"==t&&($$("#loading").hide(),$$("#iscroll").append(getTPL(this.getAll())),start())}),loader.loadGroup("preload");